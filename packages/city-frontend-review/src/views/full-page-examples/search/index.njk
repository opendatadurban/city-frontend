---
title: Search
scenario: |
  You would like to find relevant articles by sorting the results and filtering
  by the organisation(s) that published the articles.

  Things to try:

  1. Sort the list of results so that the oldest results are first.
  2. Filter the list of results to show only those published by the Ministry of
      Defence.

notes: |
  The filtering and sorting may not be accurate â€“ this is just a demonstration
  of the sort of interactions that you would find on a search page.

  This example merges features seen on GOV.UK news and communication finders and search pages.
---

{% extends "layouts/full-page-example.njk" %}

{% from "city/components/breadcrumbs/macro.njk" import cityBreadcrumbs %}
{% from "city/components/input/macro.njk" import cityInput %}
{% from "city/components/select/macro.njk" import citySelect %}
{% from "city/components/checkboxes/macro.njk" import cityCheckboxes %}
{% from "city/components/button/macro.njk" import cityButton %}
{% from "city/components/pagination/macro.njk" import cityPagination %}

{% set pageTitle = example.title %}
{% block pageTitle %}{{ pageTitle }} - GOV.UK{% endblock %}

{% block head %}
  {{ super() }}
  <link rel="stylesheet" href="/stylesheets/full-page-examples/search.min.css">
{% endblock %}

{% block beforeContent %}
    {{ cityBreadcrumbs({
      items: [
        {
          text: "Home",
          href: "/"
        }
      ]
    }) }}
{% endblock %}

{% block content %}
<form method="get" novalidate>
  <h1 class="city-heading-xl">{{ pageTitle }}</h1>

  {{ cityInput({
    label: {
      text: "Search GOV.UK",
      classes: "city-label--l, city-visually-hidden"
    },
    id: "search",
    name: "search",
    classes: "city-!-width-two-thirds",
    error: errors["search"],
    value: values["search"]
  }) }}

  <div class="city-grid-row">
    <div class="city-grid-column-one-third">
      <ul class="city-list city-list--spaced app-filter">
        <li><a class="city-link" href="#">Topic</a></li>
        <li><a class="city-link" href="#">Content type</a></li>
        <li><a class="city-link" href="#">Updated</a></li>
      </ul>
      <form method="get" novalidate>
        {{ cityCheckboxes({
          idPrefix: "organisation",
          name: "organisation",
          classes: "city-checkboxes--small",
          fieldset: {
            legend: {
              html: "<a class='city-link' href=''>Organisation</a>",
              classes: "app-open-fieldset city-fieldset__legend--s"
            }
          },
          items: [
            {
              value: "hmrc",
              text: "HM Revenue and Customs (HMRC)"
            },
            {
              value: "employment-tribunal",
              text: "Employment Tribunal"
            },
            {
              value: "mod",
              text: "Ministry of Defence"
            }
          ],
          error: errors["organisation"],
          values: values["organisation"]
        }) }}

        {{ cityButton({
          text: "Update filters"
        }) }}
      </form>
    </div>
    <div class="city-grid-column-two-thirds">
      <div class="app-search-results-summary">
        <h2 class="city-heading-s">{{ total }} results</h2>
        <span class="subscribe-link"><a href="#" class="city-link city-body-s">Subscribe to feed</a></span>
      </div>
      <hr class="city-section-break city-section-break--s city-section-break--visible city-!-margin-bottom-3">
      <div class="app-search-result-sort">
        {{ citySelect({
          id: "order",
          name: "order",
          classes: "app-search-result-sort",
          label: {
            text: "Sort by"
          },
          items: [
            {
              value: "most-viewed",
              text: "Most viewed"
            },
            {
              value: "relevance",
              text: "Relevance"
            },
            {
              value: "updated-newest",
              text: "Updated (newest)"
            },
            {
              value: "updated-oldest",
              text: "Updated (oldest)"
            }
          ],
          error: errors["order"],
          value: values["order"]
        }) }}
      </div>
      <ul class="city-list app-document-list">
          {% for document in documents %}
              {% set document = document.document %}
              <li>
                  <h3 class="city-heading-s city-!-margin-bottom-2">
                    <a class="city-link city-link--no-underline" href="https://gov.uk{{ document.link }}">
                      {{ document.title }}
                    </a>
                  </h3>
                  <p class="city-body-s city-!-margin-bottom-4">
                      {{ document.summary }}
                  </p>
                  {% if document.children %}
                    <ul class="city-list app-search-result-list__children">
                      {% for child in document.children %}
                        <li>
                          <h4 class="city-heading-xs city-!-margin-bottom-1 city-!-margin-top-1">
                            <a class="city-link city-link--no-underline" href="#">
                              {{ child.title }}
                            </a>
                          </h4>
                          <p class="city-body-s">
                            {{ child.summary }}
                          </p>
                        </li>
                      {% endfor %}
                    </ul>
                  {% endif %}
                  {% if document.metadata %}
                    <ul class="app-metadata-list city-!-padding-0">
                        {% for data in document.metadata %}
                            <li class="city-body city-!-font-size-16">
                                {% if data['is_text'] %}
                                    {{ data.value }}
                                {% endif %}
                                {% if data['is_date'] %}
                                    Updated: {{ data['human_date'] }}
                                {% endif %}
                            </li>
                        {% endfor %}
                    </ul>
                  {% endif %}
              </li>
          {% endfor %}
      </ul>

      {{ cityPagination({
        next: {
          href: "#"
        },
        items: [
          { href: "#", number: 1, current: true },
          { href: "#", number: 2 },
          { href: "#", number: 3 },
          { ellipsis: true },
          { href: "#", number: 2939 }
        ]
      }) }}
    </div>
  </div>
</form>
{% endblock %}
