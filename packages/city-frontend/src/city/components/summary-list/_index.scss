@include city-exports("city/component/summary-list") {
  .city-summary-list {
    @include city-font($size: 19);
    @include city-text-colour;
    @include city-media-query($from: tablet) {
      display: table;
      width: 100%;
      table-layout: fixed; // Required to allow us to wrap words that overflow.
      border-collapse: collapse;
    }
    margin: 0; // Reset default user agent styles
    @include city-responsive-margin(6, "bottom");
  }

  .city-summary-list__row {
    border-bottom: 1px solid $city-border-colour;

    @include city-media-query($until: tablet) {
      margin-bottom: city-spacing(3);
    }
    @include city-media-query($from: tablet) {
      display: table-row;
    }
  }

  // Remove right padding from the last column in the row
  .city-summary-list__row:not(.city-summary-list__row--no-actions) > :last-child {
    padding-right: 0;
  }

  // Provide an empty 'cell' for rows that don't have actions â€“ otherwise the
  // bottom border is not drawn for that part of the row in some browsers.
  .city-summary-list__row--no-actions {
    @include city-media-query($from: tablet) {
      &::after {
        content: "";
        display: table-cell;
        width: 20%;
      }
    }
  }

  .city-summary-list__key,
  .city-summary-list__value,
  .city-summary-list__actions {
    margin: 0; // Reset default user agent styles

    @include city-media-query($from: tablet) {
      display: table-cell;
      padding-top: city-spacing(2);
      padding-right: city-spacing(4);
      padding-bottom: city-spacing(2);
    }
  }

  .city-summary-list__actions {
    margin-bottom: city-spacing(3);
    @include city-media-query($from: tablet) {
      width: 20%;
      text-align: right;
    }
  }

  .city-summary-list__key,
  .city-summary-list__value {
    // Automatic wrapping for unbreakable text (e.g. URLs)
    word-wrap: break-word; // Fallback for older browsers only
    overflow-wrap: break-word;
  }

  .city-summary-list__key {
    margin-bottom: city-spacing(1);
    @include city-typography-weight-bold;
    @include city-media-query($from: tablet) {
      width: 30%;
    }
  }

  .city-summary-list__value {
    @include city-media-query($until: tablet) {
      margin-bottom: city-spacing(3);
    }
  }

  .city-summary-list__value > p {
    margin-bottom: city-spacing(2);
  }

  .city-summary-list__value > :last-child {
    margin-bottom: 0;
  }

  .city-summary-list__actions-list {
    width: 100%;
    margin: 0; // Reset default user agent styles
    padding: 0; // Reset default user agent styles
  }

  .city-summary-list__actions-list-item {
    display: inline-block;
  }

  @include city-media-query($until: tablet) {
    .city-summary-list__actions-list-item {
      margin-right: city-spacing(2);
      padding-right: city-spacing(2);
      border-right: 1px solid $city-border-colour;
    }

    .city-summary-list__actions-list-item:last-child {
      margin-right: 0;
      padding-right: 0;
      border: 0;
    }
  }

  @include city-media-query($from: tablet) {
    .city-summary-list__actions-list-item {
      margin-left: city-spacing(2);
      padding-left: city-spacing(2);
    }

    .city-summary-list__actions-list-item:not(:first-child) {
      border-left: 1px solid $city-border-colour;
    }

    .city-summary-list__actions-list-item:first-child {
      margin-left: 0;
      padding-left: 0;
      border: 0;
    }
  }

  // Large groups of action links may wrap onto multiple lines. Because the link
  // focus styles are applied outside of the link's bounding box, there are
  // situations where the focus style on a link can be overlapped by subsequent
  // links. We don't want this, so let's create a new stacking context on focus
  // so the link always appears to be 'on top'.
  .city-summary-list__actions-list-item .city-link:focus {
    isolation: isolate;
  }

  // No border on entire summary list
  .city-summary-list--no-border {
    .city-summary-list__row {
      border: 0;
    }

    // Increase padding by 1px to compensate for 'missing' border
    @include city-media-query($from: tablet) {
      .city-summary-list__key,
      .city-summary-list__value,
      .city-summary-list__actions {
        padding-bottom: city-spacing(2) + 1px;
      }
    }
  }

  // No border on specific rows
  .city-summary-list__row--no-border {
    border: 0;

    // Increase padding by 1px to compensate for 'missing' border
    @include city-media-query($from: tablet) {
      .city-summary-list__key,
      .city-summary-list__value,
      .city-summary-list__actions {
        padding-bottom: city-spacing(2) + 1px;
      }
    }
  }

  // Additional block for the summary card
  .city-summary-card {
    @include city-responsive-margin(6, "bottom");
    border: 1px solid $city-border-colour;
  }

  .city-summary-card__title-wrapper {
    padding: city-spacing(3);

    // Ensures the card header appears separate to the summary list in forced
    // colours mode
    border-bottom: 1px solid transparent;
    background-color: city-colour("light-grey");

    @include city-media-query($from: "tablet") {
      display: flex;
      justify-content: space-between;
      flex-wrap: nowrap;
      padding: city-spacing(3) city-spacing(4);
    }
  }

  .city-summary-card__title {
    @include city-font($size: 19, $weight: bold);
    @include city-text-colour;
    margin: city-spacing(1) city-spacing(4) city-spacing(2) 0;

    @include city-media-query($from: "tablet") {
      margin-bottom: city-spacing(1);
    }
  }

  .city-summary-card__actions {
    @include city-font-size($size: 19);
    @include city-typography-weight-bold;
    display: flex;
    flex-wrap: wrap;
    row-gap: 10px;
    margin: city-spacing(1) 0;
    padding: 0;
    list-style: none;

    @include city-media-query($from: "tablet") {
      justify-content: right;
      text-align: right;
    }
  }

  .city-summary-card__action {
    display: inline;
    margin: 0 city-spacing(2) 0 0;
    padding-right: city-spacing(2);
    border-right: 1px solid $city-border-colour;

    @include city-media-query($from: "tablet") {
      margin-right: 0;
    }

    // We use the following media query to target IE11 and 10 only to add margin
    // between actions.
    //
    // We do this because we're using row-gap to create space between actions on
    // more evergreen browsers which IE doesn't support. @supports currently isn't
    // a viable solution, see https://github.com/w3c/csswg-drafts/issues/3559.
    //
    // Solution taken from https://stackoverflow.com/questions/11173106/apply-style-only-on-ie#answer-36448860
    // which also includes an explanation of why this works
    @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {
      margin-bottom: city-spacing(1);
    }
  }

  .city-summary-card__action:last-child {
    margin: 0;
    padding-right: 0;
    border-right: none;

    @include city-media-query($from: "tablet") {
      padding-left: city-spacing(2);
    }

    // See above comment for why this is here
    @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {
      margin-bottom: 0;
    }
  }

  .city-summary-card__content {
    padding: city-spacing(3) city-spacing(3) 0;

    @include city-media-query($from: "tablet") {
      padding: city-spacing(3) city-spacing(4);
    }

    .city-summary-list {
      margin-bottom: 0;
    }

    .city-summary-list__row:last-of-type {
      margin-bottom: 0;
      border-bottom: none;
    }
  }
}
